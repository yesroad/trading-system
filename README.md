# Trading System

> AI ê¸°ë°˜ ë‹¤ì¤‘ ì‹œì¥ ìë™ë§¤ë§¤ ì‹œìŠ¤í…œ (êµ­ë‚´ì£¼ì‹ Â· ë¯¸êµ­ì£¼ì‹ Â· ì•”í˜¸í™”í)

[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue.svg)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-22+-green.svg)](https://nodejs.org/)
[![Turborepo](https://img.shields.io/badge/Turborepo-2.x-orange.svg)](https://turbo.build/)
[![Tests](https://img.shields.io/badge/Tests-294%20passing-brightgreen.svg)](#)

---

## ğŸ“‹ ëª©ì°¨

- [ê°œìš”](#-ê°œìš”)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ì‹œì‘í•˜ê¸°](#-ì‹œì‘í•˜ê¸°)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ê°œë°œ ê°€ì´ë“œ](#-ê°œë°œ-ê°€ì´ë“œ)
- [í…ŒìŠ¤íŠ¸](#-í…ŒìŠ¤íŠ¸)
- [ë°°í¬](#-ë°°í¬)

---

## ğŸ¯ ê°œìš”

**Trading System**ì€ AI ë¶„ì„ê³¼ ì „ë¬¸ íŠ¸ë ˆì´ë”© ë¡œì§ì„ ê²°í•©í•œ ìë™ë§¤ë§¤ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. êµ­ë‚´ì£¼ì‹(KRX), ë¯¸êµ­ì£¼ì‹(US), ì•”í˜¸í™”í(Crypto) ì‹œì¥ì—ì„œ ìë™ìœ¼ë¡œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³ , AI ë¶„ì„ì„ í†µí•´ ë§¤ë§¤ ì‹ í˜¸ë¥¼ ìƒì„±í•˜ë©°, ë¦¬ìŠ¤í¬ ê´€ë¦¬ë¥¼ ê±°ì³ ì£¼ë¬¸ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

### í•µì‹¬ íŠ¹ì§•

- ğŸ¤– **AI ê¸°ë°˜ ë¶„ì„** - OpenAIë¥¼ í™œìš©í•œ ì‹œì¥ ë¶„ì„ ë° ì‹ í˜¸ ìƒì„±
- ğŸ›¡ï¸ **ì „ë¬¸ ë¦¬ìŠ¤í¬ ê´€ë¦¬** - ATR ê¸°ë°˜ ì†ì ˆ, ì„œí‚· ë¸Œë ˆì´ì»¤, ë ˆë²„ë¦¬ì§€ ì œí•œ
- ğŸ“Š **ë‹¤ì¤‘ ì‹œì¥ ì§€ì›** - êµ­ë‚´ì£¼ì‹(KIS), ë¯¸êµ­ì£¼ì‹(YF), ì•”í˜¸í™”í(Upbit)
- ğŸ” **ê¸°ìˆ ì  ë¶„ì„** - Elliott Wave, í”¼ë³´ë‚˜ì¹˜, MACD, RSI ë“±
- ğŸ“ˆ **ë°±í…ŒìŠ¤íŒ…** - ì „ëµ ê²€ì¦ ë° ì„±ê³¼ ë¶„ì„
- ğŸ¯ **ì¢…ëª© ìŠ¤í¬ë¦¬ë‹** - ë°°ë‹¹ì£¼, ì„±ì¥ì£¼ ìë™ ë°œêµ´
- ğŸ“… **ì´ë²¤íŠ¸ ì¶”ì ** - ê²½ì œ ì§€í‘œ, ì‹¤ì  ë°œí‘œ ëª¨ë‹ˆí„°ë§
- ğŸ–¥ï¸ **ëŒ€ì‹œë³´ë“œ** - Next.js ê¸°ë°˜ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§

### ì‹œìŠ¤í…œ ì² í•™

1. **ì„œë¹„ìŠ¤ ê²©ë¦¬** - ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ë¡œ ë…ë¦½ì  ë°°í¬ ê°€ëŠ¥
2. **DB ì¤‘ì‹¬ í†µì‹ ** - ì„œë¹„ìŠ¤ ê°„ ëŠìŠ¨í•œ ê²°í•©
3. **íƒ€ì… ì•ˆì „** - TypeScript strict mode + Zod ëŸ°íƒ€ì„ ê²€ì¦
4. **AI ì ˆì œ** - ë¹„ìš© íš¨ìœ¨ì ì¸ AI í˜¸ì¶œ (ì¿¨ë‹¤ìš´ + ì˜ˆì‚° ê´€ë¦¬)
5. **ê²€ì¦ëœ ë¡œì§** - ì»¤ë®¤ë‹ˆí‹° ê²€ì¦ íŠ¸ë ˆì´ë”© ë°©ë²•ë¡  í™œìš©

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ“Š ë°ì´í„° ìˆ˜ì§‘ (Collectors)

**3ê°œ ì‹œì¥ì˜ ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘**

- **upbit-collector**: ì—…ë¹„íŠ¸ ì•”í˜¸í™”í ì‹œì„¸ (1ë¶„ë´‰, KRW ë§ˆì¼“)
- **kis-collector**: í•œêµ­íˆ¬ìì¦ê¶Œ êµ­ë‚´ì£¼ì‹ ì‹œì„¸ (ì‹¤ì‹œê°„ í‹±, KRX)
- **yf-collector**: Yahoo Finance ë¯¸êµ­ì£¼ì‹ ì‹œì„¸ (15ë¶„ë´‰, US)

**ê¸°ëŠ¥:**

- ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ìˆ˜ì§‘ (ë³´ìœ  ì¢…ëª© â†’ ê´€ì‹¬ ì¢…ëª© â†’ ê±°ë˜ëŸ‰ ìƒìœ„)
- ë°°ì¹˜ ì¶”ì  (ingestion_runs í…Œì´ë¸”)
- ì›Œì»¤ ìƒíƒœ ëª¨ë‹ˆí„°ë§ (worker_status í…Œì´ë¸”)

### ğŸ¤– AI ë¶„ì„ (AI Analyzer)

**OpenAI ê¸°ë°˜ ì‹œì¥ ë¶„ì„**

- ì‹œì¥ ëª¨ë“œë³„ ë¶„ì„ (PRE_OPEN, INTRADAY, CLOSE, POST_CLOSE)
- ê¸°ìˆ ì  ì§€í‘œ + AI ì‹ ë¢°ë„ ë¸”ë Œë”© (60% AI + 40% Technical)
- AI í˜¸ì¶œ ìµœì†Œí™” (ì‹¬ë³¼ë³„ ì¿¨ë‹¤ìš´ + ì›”ë³„ ì˜ˆì‚° ì œí•œ)

**í†µí•© ê¸°ëŠ¥:**

- ê²½ì œ ì´ë²¤íŠ¸ ë° ì‹¤ì  ë°œí‘œ ì •ë³´ ë°˜ì˜
- ë°°ë‹¹ì£¼ ìŠ¤í¬ë¦¬ë‹ ê²°ê³¼ ìë™ ë¶„ì„ ëŒ€ìƒ ì¶”ê°€

### ğŸ’° ë§¤ë§¤ ì‹¤í–‰ (Trade Executor)

**ë‹¤ì¸µ ë¦¬ìŠ¤í¬ ê²€ì¦ ê¸°ë°˜ ìë™ ì£¼ë¬¸**

**ë¦¬ìŠ¤í¬ ê´€ë¦¬:**

- Circuit Breaker: ì¼ì¼ ì†ì‹¤ -5% ë„ë‹¬ ì‹œ ìë™ ì²­ì‚° + 60ë¶„ ì¿¨ë‹¤ìš´
- Position Sizing: 1% ë¦¬ìŠ¤í¬ ê¸°ë°˜ ê³„ì‚°, ì‹¬ë³¼ë‹¹ ìµœëŒ€ 25%
- Leverage Limits: BTC 1.5x, ì•ŒíŠ¸ 1.2x, í¬íŠ¸í´ë¦¬ì˜¤ 1.0x
- ATR Stop Loss: ë™ì  ì†ì ˆ (0.5% ~ 5%)
- Event Risk: 24ì‹œê°„ ë‚´ ê³ ì„íŒ©íŠ¸ ì´ë²¤íŠ¸ ì‹œ ê±°ë˜ ì°¨ë‹¨/ì¶•ì†Œ

**ACE ê°ì‚¬ ì¶”ì :**

- Aspiration (ëª©í‘œ): ì „ëµ, ëª©í‘œ ìˆ˜ìµë¥ , ìµœëŒ€ ì†ì‹¤
- Capability (ì—­ëŸ‰): ì‹ í˜¸ í’ˆì§ˆ, ì‹œì¥ ë¶„ì„, ë¦¬ìŠ¤í¬ í‰ê°€
- Execution (ì‹¤í–‰): ì‹¤ì œ ì£¼ë¬¸ ë‚´ì—­
- Outcome (ê²°ê³¼): ì‹¤í˜„ ì†ìµ, êµí›ˆ

**ë¸Œë¡œì»¤ ì§€ì›:**

- Upbit (ì•”í˜¸í™”í)
- í•œêµ­íˆ¬ìì¦ê¶Œ (êµ­ë‚´ì£¼ì‹, ë¯¸êµ­ì£¼ì‹)

### ğŸ“ˆ ë°±í…ŒìŠ¤íŒ… (Backtest Engine)

**ì „ëµ ê²€ì¦ ë° ì„±ê³¼ ë¶„ì„**

- ê³¼ê±° ë°ì´í„° ê¸°ë°˜ ì „ëµ ì‹œë®¬ë ˆì´ì…˜
- ìŠ¬ë¦¬í”¼ì§€, ìˆ˜ìˆ˜ë£Œ ë°˜ì˜
- Walk-forward ë¶„ì„ ì§€ì›
- ì„±ê³¼ ë©”íŠ¸ë¦­ (ìŠ¹ë¥ , Sharpe Ratio, MDD)

### ğŸ” ì¢…ëª© ìŠ¤í¬ë¦¬ë‹ (Stock Screener)

**ë°°ë‹¹ì£¼ ìë™ ë°œêµ´**

**ìŠ¤í¬ë¦¬ë‹ ê¸°ì¤€:**

- ë°°ë‹¹ ìˆ˜ìµë¥  (ìµœì†Œ 3%)
- ë°¸ë¥˜ì—ì´ì…˜ (P/E < 20, P/B < 2)
- ë°°ë‹¹ ì„±ì¥ë¥  (3ë…„ CAGR)
- ì¬ë¬´ ê±´ì „ì„± (ROE, Debt/Equity)

**ë³µí•© ì ìˆ˜:**

- ë°°ë‹¹ ìˆ˜ìµë¥  (30ì )
- ë°°ë‹¹ ì„±ì¥ë¥  (25ì )
- ë°¸ë¥˜ì—ì´ì…˜ (25ì )
- ì¬ë¬´ ê±´ì „ì„± (20ì )

### ğŸ“… ì‹œì¥ ì´ë²¤íŠ¸ (Market Calendar)

**ê²½ì œ ì§€í‘œ ë° ì‹¤ì  ë°œí‘œ ì¶”ì **

**ìˆ˜ì§‘ ë°ì´í„°:**

- ê²½ì œ ì´ë²¤íŠ¸ (FOMC, CPI, GDP ë“±)
- ì‹¤ì  ë°œí‘œ (Earnings Calendar)
- ì„íŒ©íŠ¸ ì ìˆ˜ (1-10)
- ì˜í–¥ë°›ëŠ” ì„¹í„°

**í†µí•©:**

- AI Analyzer: í”„ë¡¬í”„íŠ¸ì— ì´ë²¤íŠ¸ ì •ë³´ í¬í•¨
- Trade Executor: ê³ ìœ„í—˜ ì´ë²¤íŠ¸ ì‹œ ê±°ë˜ ì°¨ë‹¨

### ğŸ“Š ëª¨ë‹ˆí„°ë§ (Monitoring Bot)

**ì‹œìŠ¤í…œ ìƒíƒœ ì¶”ì  ë° ì•Œë¦¼**

- ì›Œì»¤ ìƒíƒœ ëª¨ë‹ˆí„°ë§ (ì¥ì‹œê°„ ë¯¸ì‹¤í–‰ ê°ì§€)
- ë°ì´í„° ìˆ˜ì§‘ í˜„í™© (ì„±ê³µë¥ , ì—ëŸ¬ìœ¨)
- ê±°ë˜ ì‹¤í–‰ ì¶”ì 
- Telegram ì•Œë¦¼ (ê±°ë˜, ì—ëŸ¬, ì¼ì¼ ë¦¬í¬íŠ¸)

### ğŸ–¥ï¸ ëŒ€ì‹œë³´ë“œ (Web)

**Next.js ê¸°ë°˜ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**

- í¬ì§€ì…˜ ì¡°íšŒ (ë³´ìœ  ìì‚°, í‰ê°€ ì†ìµ)
- ê±°ë˜ ë‚´ì—­
- AI ë¶„ì„ ê²°ê³¼
- ì‹œìŠ¤í…œ ìƒíƒœ

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Supabase (PostgreSQL)              â”‚
â”‚                                                 â”‚
â”‚  [ìì‚°]                                         â”‚
â”‚  - positions, account_cash                      â”‚
â”‚                                                 â”‚
â”‚  [ì‹œì„¸]                                         â”‚
â”‚  - upbit_candles, kis_candles, yf_candles      â”‚
â”‚                                                 â”‚
â”‚  [ë¶„ì„]                                         â”‚
â”‚  - ai_analysis, trading_signals                 â”‚
â”‚                                                 â”‚
â”‚  [ê±°ë˜]                                         â”‚
â”‚  - trades, risk_events, ace_logs                â”‚
â”‚                                                 â”‚
â”‚  [ì´ë²¤íŠ¸]                                       â”‚
â”‚  - news_events                                  â”‚
â”‚                                                 â”‚
â”‚  [ìš´ì˜]                                         â”‚
â”‚  - worker_status, ingestion_runs                â”‚
â”‚  - system_guard (í† í°, ê±°ë˜ í™œì„±í™”)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–²         â–²        â–²         â–²        â–²
         â”‚         â”‚        â”‚         â”‚        â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”  â”Œâ”€â”€â”€â”´â”€â”€â”€â”  â”Œâ”´â”€â”€â”   â”Œâ”€â”€â”´â”€â”€â”€â” â”Œâ”€â”´â”€â”
    â”‚Collectâ”‚  â”‚   AI  â”‚  â”‚Tradeâ”‚ â”‚Monitorâ”‚ â”‚Webâ”‚
    â”‚(3ì¢…)  â”‚  â”‚Analyzeâ”‚  â”‚ Execâ”‚ â”‚  Bot  â”‚ â”‚   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”˜
```

### ë°ì´í„° íë¦„

```
1. ë°ì´í„° ìˆ˜ì§‘
   Collectors â†’ DB (candles í…Œì´ë¸”)

2. ì‹œì¥ ë¶„ì„
   DB â†’ AI Analyzer â†’ DB (ai_analysis, trading_signals)
   â†“ (market-calendar, stock-screener í†µí•©)

3. ë¦¬ìŠ¤í¬ ê²€ì¦
   DB â†’ Trade Executor (Risk Validator)
   â†“ (circuit-breaker, leverage, exposure, event risk)

4. ì£¼ë¬¸ ì‹¤í–‰
   Trade Executor â†’ Broker API
   â†“
   DB (trades, ace_logs)

5. ëª¨ë‹ˆí„°ë§
   DB â†’ Monitoring Bot â†’ Telegram
```

### í•µì‹¬ ì›ì¹™

- âœ… **ì„œë¹„ìŠ¤ ê°„ ì§ì ‘ import ê¸ˆì§€** - ëª¨ë“  í†µì‹ ì€ DB ê²½ìœ 
- âœ… **ê³µí†µ ë¡œì§ì€ íŒ¨í‚¤ì§€ë¡œ ì¶”ì¶œ** - `@workspace/*`
- âœ… **ì™¸ë¶€ API ì‘ë‹µì€ Zod ê²€ì¦** - ëŸ°íƒ€ì„ íƒ€ì… ì•ˆì „
- âœ… **ê¸ˆìœµ ê³„ì‚°ì€ big.js** - ë¶€ë™ì†Œìˆ˜ì  ì˜¤ì°¨ ë°©ì§€
- âœ… **ë‚ ì§œëŠ” Luxon** - íƒ€ì„ì¡´ ì•ˆì „ ì²˜ë¦¬

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### ì½”ì–´

- **TypeScript 5.9** - Strict mode, íƒ€ì… ì•ˆì „
- **Node.js 22+** - ìµœì‹  LTS
- **Turborepo** - ëª¨ë…¸ë ˆí¬ ë¹Œë“œ ì‹œìŠ¤í…œ
- **Yarn Workspaces** - íŒ¨í‚¤ì§€ ê´€ë¦¬

### ë°ì´í„°ë² ì´ìŠ¤

- **Supabase (PostgreSQL)** - ì¤‘ì•™ ë°ì´í„° ì €ì¥ì†Œ
- **@supabase/supabase-js** - í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬

### í”„ë ˆì„ì›Œí¬

- **Next.js 15** - ëŒ€ì‹œë³´ë“œ (App Router)
- **React 19** - UI ì»´í¬ë„ŒíŠ¸
- **TailwindCSS 4** - ìŠ¤íƒ€ì¼ë§

### ê²€ì¦ ë° ê³„ì‚°

- **Zod** - ìŠ¤í‚¤ë§ˆ ê²€ì¦
- **big.js** - ê¸ˆìœµ ê³„ì‚° (ë¶€ë™ì†Œìˆ˜ì  ì•ˆì „)
- **Luxon** - ë‚ ì§œ/ì‹œê°„ ì²˜ë¦¬

### í…ŒìŠ¤íŒ…

- **Vitest** - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, í†µí•© í…ŒìŠ¤íŠ¸
- **294ê°œ í…ŒìŠ¤íŠ¸** - 92%+ ì»¤ë²„ë¦¬ì§€

### ì™¸ë¶€ API

- **OpenAI API** - AI ë¶„ì„
- **Upbit API** - ì•”í˜¸í™”í ì‹œì„¸/ê±°ë˜
- **í•œêµ­íˆ¬ìì¦ê¶Œ API** - ì£¼ì‹ ì‹œì„¸/ê±°ë˜
- **Yahoo Finance** - ë¯¸êµ­ì£¼ì‹ ì‹œì„¸
- **FMP API** - ê²½ì œ ì´ë²¤íŠ¸, ì‹¤ì  ë°œí‘œ, ì¢…ëª© ìŠ¤í¬ë¦¬ë‹

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Node.js 22+
- Yarn 4+
- PostgreSQL (ë˜ëŠ” Supabase ê³„ì •)

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

ê° ì„œë¹„ìŠ¤ ë””ë ‰í† ë¦¬ì— `.env` íŒŒì¼ ìƒì„±:

```bash
# ê³µí†µ
SUPABASE_URL=your-supabase-url
SUPABASE_KEY=your-supabase-key

# AI Analyzer
OPENAI_API_KEY=your-openai-key

# Upbit Collector / Trade Executor
UPBIT_ACCESS_KEY=your-upbit-access
UPBIT_SECRET_KEY=your-upbit-secret

# KIS Collector / Trade Executor
KIS_APP_KEY=your-kis-app-key
KIS_APP_SECRET=your-kis-app-secret

# Market Calendar / Stock Screener
FMP_API_KEY=your-fmp-api-key

# Monitoring Bot
TELEGRAM_BOT_TOKEN=your-telegram-token
TELEGRAM_CHAT_ID=your-chat-id
```

### ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd trading-system

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
yarn install

# 3. ì „ì²´ ë¹Œë“œ
yarn build

# 4. ì„œë¹„ìŠ¤ ì‹¤í–‰ (ê°œë³„)
cd services/upbit-collector
yarn dev

# ë˜ëŠ” PM2ë¡œ ì „ì²´ ì‹¤í–‰ (ê¶Œì¥)
pm2 start ecosystem.config.js
```

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸
yarn test

# íŠ¹ì • íŒ¨í‚¤ì§€/ì„œë¹„ìŠ¤
cd packages/trading-utils
yarn test

# ì»¤ë²„ë¦¬ì§€ í™•ì¸
yarn test --coverage
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
trading-system/
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ web/                    # Next.js ëŒ€ì‹œë³´ë“œ
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ shared-utils/           # ê³µí†µ ìœ í‹¸ (ë¡œê¹…, ë‚ ì§œ, í™˜ê²½ë³€ìˆ˜)
â”‚   â”œâ”€â”€ db-client/              # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ kis-auth/               # KIS í† í° ê´€ë¦¬
â”‚   â”œâ”€â”€ trading-utils/          # íŠ¸ë ˆì´ë”© ë¡œì§
â”‚   â”‚   â”œâ”€â”€ indicators/         # ê¸°ìˆ ì  ì§€í‘œ (MA, MACD, RSI)
â”‚   â”‚   â”œâ”€â”€ atr/                # ATR ê³„ì‚°, Stop Loss
â”‚   â”‚   â”œâ”€â”€ confidence/         # ì‹ ë¢°ë„ ê³„ì‚°
â”‚   â”‚   â”œâ”€â”€ risk/               # Position Sizing, Exposure
â”‚   â”‚   â””â”€â”€ signals/            # ì‹ í˜¸ ìƒì„±
â”‚   â””â”€â”€ stock-screener/         # ë°°ë‹¹ì£¼ ìŠ¤í¬ë¦¬ë‹
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ upbit-collector/        # ì—…ë¹„íŠ¸ ë°ì´í„° ìˆ˜ì§‘
â”‚   â”œâ”€â”€ kis-collector/          # KIS ë°ì´í„° ìˆ˜ì§‘
â”‚   â”œâ”€â”€ yf-collector/           # Yahoo Finance ìˆ˜ì§‘
â”‚   â”œâ”€â”€ ai-analyzer/            # AI ë¶„ì„
â”‚   â”œâ”€â”€ trade-executor/         # ì£¼ë¬¸ ì‹¤í–‰
â”‚   â”‚   â”œâ”€â”€ risk/               # ë¦¬ìŠ¤í¬ ê´€ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ circuit-breaker.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ leverage-manager.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ position-sizer.ts
â”‚   â”‚   â”‚   â””â”€â”€ validator.ts
â”‚   â”‚   â”œâ”€â”€ compliance/         # ACE ë¡œê¹…
â”‚   â”‚   â”‚   â”œâ”€â”€ ace-logger.ts
â”‚   â”‚   â”‚   â””â”€â”€ outcome-tracker.ts
â”‚   â”‚   â””â”€â”€ execution/          # ì£¼ë¬¸ ì‹¤í–‰
â”‚   â”œâ”€â”€ market-calendar/        # ê²½ì œ ì´ë²¤íŠ¸, ì‹¤ì  ë°œí‘œ
â”‚   â”œâ”€â”€ monitoring-bot/         # ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§
â”‚   â””â”€â”€ backtest-engine/        # ë°±í…ŒìŠ¤íŒ…
â”œâ”€â”€ .claude/
â”‚   â”œâ”€â”€ rules/                  # ì½”ë”© ê·œì¹™
â”‚   â”‚   â”œâ”€â”€ immutable-rules.md
â”‚   â”‚   â”œâ”€â”€ architecture-guide.md
â”‚   â”‚   â””â”€â”€ database-guide.md
â”‚   â””â”€â”€ skills/                 # íŠ¸ë ˆì´ë”© ìŠ¤í‚¬ (19ê°œ)
â”‚       â”œâ”€â”€ technical-analyst/
â”‚       â”œâ”€â”€ risk-management/
â”‚       â”œâ”€â”€ signal-generation/
â”‚       â”œâ”€â”€ market-analysis/
â”‚       â””â”€â”€ ...
â””â”€â”€ turbo.json                  # Turborepo ì„¤ì •
```

---

## ğŸ”§ ê°œë°œ ê°€ì´ë“œ

### ì½”ë”© ê·œì¹™

í”„ë¡œì íŠ¸ëŠ” `.claude/rules/`ì— ì •ì˜ëœ ê·œì¹™ì„ ë”°ë¦…ë‹ˆë‹¤:

**í•„ìˆ˜ ê·œì¹™ ([immutable-rules.md](./.claude/rules/immutable-rules.md)):**

1. **ì„œë¹„ìŠ¤ ê²©ë¦¬** - `services/*` ê°„ ì§ì ‘ import ê¸ˆì§€
2. **íƒ€ì… ì•ˆì „** - TypeScript strict, ëª…ì‹œì  `any` ê¸ˆì§€
3. **ëŸ°íƒ€ì„ ê²€ì¦** - ì™¸ë¶€ API ì‘ë‹µì€ Zod ê²€ì¦
4. **ê¸ˆìœµ ê³„ì‚°** - `big.js` ì‚¬ìš© (ê°€ê²©, ìˆ˜ëŸ‰, ê¸ˆì•¡)
5. **ë‚ ì§œ ì²˜ë¦¬** - Luxon ì‚¬ìš©, JS `Date` ì§ì ‘ ì‚¬ìš© ê¸ˆì§€
6. **DB ì ‘ê·¼** - `@workspace/db-client` ìš°ì„  ì‚¬ìš©

**ì•„í‚¤í…ì²˜ ê°€ì´ë“œ ([architecture-guide.md](./.claude/rules/architecture-guide.md)):**

- ì„œë¹„ìŠ¤ ê²©ë¦¬, DB ì¤‘ì‹¬ í†µì‹ 
- ê³µí†µ ë¡œì§ì˜ íŒ¨í‚¤ì§€í™”
- ì—ëŸ¬ ì²˜ë¦¬ ì „ëµ (ì¼ì‹œì  vs ì˜êµ¬ì )
- ë°±ì˜¤í”„ íŒ¨í„´

**ë°ì´í„°ë² ì´ìŠ¤ ê°€ì´ë“œ ([database-guide.md](./.claude/rules/database-guide.md)):**

- í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ë° ê´€ê³„
- ì¿¼ë¦¬ íŒ¨í„´ ë° ìµœì í™”
- ì¸ë±ìŠ¤ ì „ëµ

### ìƒˆ ì„œë¹„ìŠ¤ ì¶”ê°€

1. `services/` ì•„ë˜ì— ë””ë ‰í† ë¦¬ ìƒì„±
2. `package.json` ì‘ì„± (TypeScript, Vitest í¬í•¨)
3. DB ì ‘ê·¼ì€ `@workspace/db-client` ì‚¬ìš©
4. ê³µí†µ ë¡œì§ì€ `@workspace/*` íŒ¨í‚¤ì§€ë¡œ ì´ë™
5. í™˜ê²½ë³€ìˆ˜ëŠ” `@workspace/shared-utils/requireEnv` ì‚¬ìš©

### íŠ¸ë ˆì´ë”© ìŠ¤í‚¬ í™œìš©

`.claude/skills/` ì•„ë˜ì— 19ê°œ ìŠ¤í‚¬ì´ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

- `technical-analyst` - Elliott Wave, í”¼ë³´ë‚˜ì¹˜, ì°¨íŠ¸ ë¶„ì„
- `risk-management` - ë¦¬ìŠ¤í¬ ê´€ë¦¬ ê·œì¹™
- `signal-generation` - ë§¤ë§¤ ì‹ í˜¸ ìƒì„±
- `market-analysis` - ì‹œì¥ ë¶„ì„
- `compliance-logging` - ACE í”„ë ˆì„ì›Œí¬
- ê¸°íƒ€ 14ê°œ ìŠ¤í‚¬

**ì‚¬ìš© ì˜ˆ:**

```
"BTC ì°¨íŠ¸ë¥¼ technical-analystë¡œ ë¶„ì„í•˜ê³ 
 risk-managementë¡œ ê²€ì¦í•œ ë’¤
 coding-standards ì§€ì¼œì„œ êµ¬í˜„í•´ì¤˜"
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ í˜„í™©

- **ì´ 294ê°œ í…ŒìŠ¤íŠ¸** - ëª¨ë‘ í†µê³¼ âœ…
- **í‰ê·  ì»¤ë²„ë¦¬ì§€** - 92%+

**ì„¸ë¶€:**

- trade-executor: 17ê°œ í†µí•© í…ŒìŠ¤íŠ¸
- trading-utils: 212ê°œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- market-calendar: 30ê°œ í…ŒìŠ¤íŠ¸
- stock-screener: 35ê°œ í…ŒìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸
yarn test --run

# ì»¤ë²„ë¦¬ì§€
yarn test --coverage

# Watch ëª¨ë“œ
yarn test
```

---

## ğŸ“¦ ë°°í¬

### PM2 ì„¤ì • (ê¶Œì¥)

```javascript
// ecosystem.config.js
module.exports = {
  apps: [
    {
      name: 'upbit-collector',
      script: 'dist/index.js',
      cwd: './services/upbit-collector',
      instances: 1,
      autorestart: true,
    },
    // ... ê¸°íƒ€ ì„œë¹„ìŠ¤
  ],
};
```

```bash
# PM2ë¡œ ì‹œì‘
pm2 start ecosystem.config.js

# ì €ì¥ ë° ìë™ ì‹œì‘ ì„¤ì •
pm2 save
pm2 startup
```

### Docker (ì„ íƒ)

```bash
# ì „ì²´ ë¹Œë“œ
docker-compose build

# ì‹¤í–‰
docker-compose up -d
```

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License

---

## ğŸ™ Credits

- **tradermonty** - Elliott Wave, í”¼ë³´ë‚˜ì¹˜ ë¶„ì„ ë¡œì§
- **jmanhype** - QTS ë¦¬ìŠ¤í¬ ê´€ë¦¬ ì‹œìŠ¤í…œ (Python â†’ TypeScript í¬íŒ…)

---

**Made with ğŸ¤– AI Pair Programming (Claude Code, ChatGPT, Codex)**
