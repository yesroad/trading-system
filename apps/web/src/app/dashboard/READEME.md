# 운영 대시보드 설명서 (비개발자·운영자 기준)

이 문서는 **주식, 트레이딩, AI를 잘 몰라도**  
이 운영 대시보드를 보고 **지금 시스템이 안전한지 / 조치가 필요한지** 판단할 수 있도록 만든 문서다.

이 화면은 **투자 판단용이 아니라**
👉 **시스템 운영 상태 확인용**이다.

---

## 1. 이 대시보드는 왜 존재하는가?

이 화면이 답하려는 질문은 단 하나다.

> **“지금 이 시스템, 그냥 둬도 되나?”**

그래서 이 화면은:
- 가격
- 차트
- 수익률
을 **의도적으로 보여주지 않는다.**

운영자는 **돈을 보는 사람이 아니라**
👉 **시스템이 죽었는지 살아있는지 판단하는 사람**이기 때문이다.

---

## 2. 이 시스템은 어떤 흐름으로 움직이나? (아주 단순화)

```
시장 열림
   ↓
데이터 수집
   ↓
AI 판단
   ↓
(조건 충족 시) 매매 실행
```

이 중 **하나라도 멈추면**
전체 시스템은 의미가 없어진다.

대시보드는 이 흐름이
👉 **끊기지 않았는지**를 확인하는 도구다.

---

## 3. Worker(작업)란 무엇인가?

**Worker = 서버에서 자동으로 돌아가는 일꾼**

예:
- 국내 주식 데이터 수집
- 해외 주식 데이터 수집
- AI 판단 실행
- 매매 주문 실행

각 Worker는 **독립적으로** 움직이며,
각자의 상태를 가진다.

---

## 4. Worker 상태(State) 이해하기

| 상태 | 의미 | 운영자 관점 |
|---|---|---|
| success | 정상 완료 | 문제 없음 |
| running | 현재 실행 중 | 잠시 지켜봄 |
| skipped | 조건상 실행 안 함 | 정상일 수도 있음 |
| failed | 실패 | ❗확인 필요 |
| unknown | 정보 부족 | ⚠️ 주의 |

👉 **failed만 진짜 문제다.**

---

## 5. 스냅샷(snapshot) 방식이란?

이 화면은 **실시간 모니터링 화면이 아니다.**

- 서버가 현재 상태를 정리해서
- 10초마다 한 번
- “사진 찍듯” 내려준다

이를 **스냅샷**이라고 한다.

### 왜 실시간이 아닌가?
- 실시간은 오히려 헷갈림
- 중간 상태에 흔들림
- 운영자는 “지금 결론”만 필요

---

## 6. 전체 시스템 상태는 어떻게 정해지나?

여러 Worker 상태를 종합해서  
**사람이 바로 이해 가능한 한 문장**으로 요약한다.

### 표시되는 전체 상태

| 상태 | 의미 | 조치 |
|---|---|---|
| 정상 | 모두 잘 동작 | 아무것도 안 해도 됨 |
| 주의 | 느린 작업 있음 | 잠깐 지켜보기 |
| 지연 큼 | 멈출 위험 | 확인 필요 |
| 장애 의심 | 실패 발생 | 즉시 확인 |
| 장외 | 원래 안 도는 시간 | 정상 |
| 정보 없음 | 데이터 부족 | 상태 확인 |

👉 이 상태 **하나만 보고도**
지금 개입할지 말지 판단 가능해야 한다.

---

## 7. “장외”는 왜 문제로 보지 않는가?

장외란:
- 시장이 닫힌 시간
- 애초에 작업이 도는 게 이상한 상태

그래서:
- skipped여도
- 메시지가 “장외”라면
- **정상 상태로 취급**

---

## 8. 최대 지연(Max Lag)이란?

> **마지막으로 정상 완료된 작업이  
> 지금으로부터 얼마나 오래됐는가**

### 해석 기준
- 1분 이내 → 정상
- 1~5분 → 주의
- 5분 초과 → 위험
- 계속 증가 → 사실상 멈춤

모든 시간은 **한국 시간(KST)** 기준이다.

---

## 9. 워커 테이블은 이렇게 읽는다

워커 목록은 **위험한 것부터 위에** 정렬된다.

### 정렬 우선순위
1. failed
2. running (결과 없음)
3. unknown
4. skipped
5. success

👉 위쪽 몇 줄만 봐도 상황 파악 가능해야 정상이다.

---

## 10. 최근 수집 / AI 기록은 왜 있나?

이 영역은 **문제가 의심될 때만 보는 보조 정보**다.

확인 목적:
- 실제로 작업이 돌고 있는지
- 기록이 계속 쌓이는지
- 완전히 멈춘 건 아닌지

👉 평소엔 안 봐도 된다.

---

## 11. 강제 갱신 버튼은 언제 쓰나?

강제 갱신은:
- 캐시를 무시하고
- 서버에서 즉시 새 스냅샷을 만든다

사용 시점:
- “지금 화면이 오래된 것 같다”
- “방금 문제를 조치했다”
- “상태가 바뀌었는지 바로 확인하고 싶다”

👉 남용하지 않는다.

---

## 12. 이 화면이 의도적으로 하지 않는 것

이 대시보드는 아래를 **절대 하지 않는다.**

❌ 실시간 차트  
❌ 로그 원문  
❌ 원인 분석  
❌ 수동 제어  

이건 **다른 도구의 역할**이다.

---

## 13. 운영 철학 (중요)

> **운영 화면은 똑똑하려 들면 망한다**

- 판단은 사람이 한다
- 화면은 판단을 빠르게 돕는다
- 오해될 정보는 차라리 숨긴다

---

## 14. 최종 요약 (이 문서 한 줄)

> 이 대시보드는  
> **“지금 이 시스템, 건드려야 하나?”를  
> 5초 안에 판단하게 해주는 화면**이다.